(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[21],{"0688":function(e,t,r){"use strict";r.r(t);var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("q-page",{staticClass:"bg-light-secondary"},[r("g-search-tool-portal"),r("portal",{attrs:{to:"m-topbar-body"}},[e._v("\n    "+e._s(e.findLabel(e.navTreeRoot.cat_id))+"\n  ")]),r("div",{staticClass:"g-screen-container q-pt-lg q-px-md q-px-md-none"},[e.$q.screen.gt.sm?r("div",{staticClass:"row items-center"},[r("q-img",{staticClass:"q-mr-sm",staticStyle:{width:"32px"},attrs:{src:e.navTreeRoot.icon}}),r("div",{staticClass:"text-h4"},[e._v("\n        "+e._s(e.findLabel(e.navTreeRoot.cat_id))+"\n      ")])],1):e._e(),r("g-nav-tree-search-filter-section",{staticClass:"q-mt-md-lg",attrs:{"root-item":e.navTreeRoot,"selected-term":e.selectedTerm}})],1),e.$route.query.q||e.selectedTerm||!e.loading.navTreeTrendingBrand&&!e.navTreeTrendingBrands.length?e._e():r("div",{staticClass:"g-screen-container q-py-xl q-px-md q-px-md-none"},[r("div",{staticClass:"text-h4 q-mb-lg",class:{"text-center":e.$q.screen.gt.sm}},[e._v("\n      "+e._s(e.$t("landing.trending"))+"\n    ")]),e.loading.navTreeTrendingBrand?r("div",{staticClass:"row q-col-gutter-xs-md q-col-gutter-md-lg"},e._l(4,(function(e){return r("div",{key:e,staticClass:"col-6 col-md-3"},[r("g-brand-item-skeleton")],1)})),0):e._e(),e.$q.screen.gt.sm?r("div",{staticClass:"row q-col-gutter-xs-md q-col-gutter-md-lg"},e._l(e.navTreeTrendingBrands,(function(e){return r("div",{key:e.brand_id+"_"+e.service_id,staticClass:"col-12 col-sm-6 col-md-3"},[e.brand_img_url?r("g-brand-item",{attrs:{item:e}}):r("g-brand-item-plain",{attrs:{item:e}})],1)})),0):r("g-swiper",{attrs:{"slide-items":e.navTreeTrendingBrands,"item-per-view-xs":2,"item-per-view-sm":2,"item-per-view-md":4,"item-rows":e.$q.screen.xs||e.$q.screen.gt.sm?2:0},scopedSlots:e._u([{key:"slideItem",fn:function(e){var t=e.item;return[t.brand_img_url?r("g-brand-item",{attrs:{item:t}}):r("g-brand-item-plain",{attrs:{item:t}})]}}],null,!1,263073491)})],1),r("div",{staticClass:"g-screen-container q-px-md q-px-md-none"},[e.loading.navTreeTrendingBrand||e.navTreeTrendingBrands.length?r("q-separator"):e._e()],1),r("div",{staticClass:"g-screen-container q-py-xl q-px-md q-px-md-none"},[r("div",{staticClass:"text-h4 q-mb-lg",class:{"text-center":e.$q.screen.gt.sm}},[e._v("\n      "+e._s(e.$t("landing.all_brands",{service:e.findLabel(e.navTreeRoot.cat_id)}))),e.filteredResultLabel?[e._v(":\n        "),r("span",{staticClass:"text-primary"},[e._v(e._s(e.filteredResultLabel))])]:e._e()],2),e.loading.navTreeBrand?r("div",[r("div",{staticClass:"row q-col-gutter-md q-col-gutter-md-md"},e._l(8,(function(e){return r("div",{key:e,staticClass:"col-12 col-sm-6 col-md-3"},[r("g-brand-item-skeleton")],1)})),0)]):r("div",[e.slicedBrands.length?r("div",[r("div",{staticClass:"row q-col-gutter-md-lg",class:{"q-col-gutter-md":e.findHasImage(e.slicedBrands)}},e._l(e.slicedBrands,(function(t){return r("div",{key:t.brand_id+"_"+t.service_id,staticClass:"col-md-3",class:t.brand_img_url?"col-6":"col-12"},[t.brand_img_url?r("g-brand-item",{attrs:{item:t}}):r("g-brand-item-plain",{attrs:{item:t,mode:e.$q.screen.gt.sm?"grid":"list"}})],1)})),0),e.pagination.max>1?r("div",{staticClass:"row justify-center q-mt-lg"},[r("q-pagination",{attrs:{value:e.pagination.page,max:e.pagination.max,"max-pages":e.$q.screen.xs?5:7,"boundary-numbers":!0,"direction-links":!0,color:"dark"},on:{input:e.onPaginate}})],1):e._e()]):r("g-error-section",{staticClass:"q-my-xl",scopedSlots:e._u([{key:"title",fn:function(){return[e._v("\n          "+e._s(e.$t(e.errorSectionDetail.titleKey,{module:e.$t("error.games")}))+"\n        ")]},proxy:!0},{key:"description",fn:function(){return[r("i18n",{attrs:{path:e.errorSectionDetail.descriptionKey,tag:"div"},scopedSlots:e._u([{key:"btn",fn:function(){return[r("g-plain-button",{on:{click:e.onClickErrorSectionButton}},[e._v("\n                "+e._s(e.$t(e.errorSectionDetail.buttonKey))+"\n              ")])]},proxy:!0}],null,!1,2906091937)})]},proxy:!0}],null,!1,3229798728)})],1)])],1)},a=[],i=(r("5319"),r("ded3")),s=r.n(i),o=r("2f62"),l=r("51fb"),c=r("563e"),d=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("g-search-filter-responsive",{scopedSlots:e._u([{key:"input",fn:function(){return[r("g-brand-search-box")]},proxy:!0},{key:"filter",fn:function(){return[e.$q.screen.gt.sm?r("g-horizontal-scroll-area",[r("div",{staticClass:"row no-wrap"},e._l(e.filterOptions,(function(t){return r("div",{key:t.value},[t.children?r("q-btn-dropdown",{staticClass:"g-btn-filter g-btn-min",class:{"bg-light-secondary":e.$route.params.navTreeTerm2===t.value},attrs:{unelevated:"","dropdown-icon":"expand_more","no-caps":"",disable:e.loading.navTreeBrand||e.loading.navTreeTrendingBrand,label:t.label}},[r("q-list",{attrs:{separator:""}},e._l(t.children,(function(n){return r("q-item",{key:n.cat_id,class:{"bg-light-secondary":e.$route.params.navTreeTerm3===n.seo_term},attrs:{clickable:""},on:{click:function(r){return e.onSelectNode(t.value,n.seo_term)}}},[r("q-item-section",[e._v("\n                    "+e._s(e.findLabel(n.cat_id))+"\n                  ")])],1)})),1)],1):r("q-btn",{staticClass:"g-btn-filter g-btn-min",class:{"bg-light-secondary":t.selected},attrs:{unelevated:"","no-caps":"",disable:e.loading.navTreeBrand||e.loading.navTreeTrendingBrand,label:t.label},on:{click:function(r){return e.onSelectNode(t.value)}}})],1)})),0)]):e.filterOptions.length>1?r("div",[r("q-btn",{attrs:{round:"",unelevated:"",size:"md"},on:{click:function(t){return e.$refs.dialogFilter.open()}}},[r("div",{staticClass:"relative-position"},[r("q-icon",{attrs:{name:"filter_list",color:"secondary"}}),e.$route.params.navTreeTerm2?r("div",{staticClass:"g-round-indicator bg-primary absolute",staticStyle:{top:"-4px",right:"-4px"}}):e._e()],1)])],1):e._e()]},proxy:!0}])}),e.$q.screen.lt.md?r("g-dialog",{ref:"dialogFilter",attrs:{"transition-show":"slide-left","transition-hide":"slide-right","hide-footer":"","no-body-padding":""},scopedSlots:e._u([{key:"title",fn:function(){return[r("div",{staticClass:"text-weight-medium"},[e._v(e._s(e.$t("landing.filter")))])]},proxy:!0},{key:"body",fn:function(){return e._l(e.filterOptions,(function(t){return r("div",{key:t.value,staticClass:"column"},[r("div",{staticClass:"q-pa-md text-body1",class:{"bg-light-secondary":t.selected&&!e.$route.params.navTreeTerm3,"no-pointer-events":t.children,"cursor-pointer":!t.children},on:{click:function(r){return e.onSelectNode(t.value)}}},[e._v("\n          "+e._s(t.label)+"\n        ")]),r("q-separator"),e._l(t.children,(function(n){return r("div",{key:n.cat_id,on:{click:function(r){return e.onSelectNode(t.value,n.seo_term)}}},[r("div",{staticClass:"q-pl-xl q-py-md q-pr-md cursor-pointer",class:{"bg-light-secondary":e.$route.params.navTreeTerm3===n.seo_term}},[e._v("\n            "+e._s(e.findLabel(n.cat_id))+"\n          ")]),r("q-separator")],1)}))],2)}))},proxy:!0}],null,!1,2842389628)}):e._e()],1)},u=[],m=(r("ddb0"),function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("q-input",{ref:"inputField",staticClass:"full-width",attrs:{borderless:"",dense:"",placeholder:e.$t("landing.find_game"),"bg-color":"white",debounce:"500",disable:e.loading.navTreeBrand||e.loading.navTreeTrendingBrand,maxlength:"128",value:e.$route.query.q},on:{input:e.onAddRoute},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:function(t){return e.$refs.inputField.blur()}.apply(null,arguments)}},scopedSlots:e._u([{key:"prepend",fn:function(){return[r("q-icon",{staticClass:"cursor-pointer",attrs:{color:"secondary",name:"search",size:"20px"}})]},proxy:!0},e.$route.query.q?{key:"append",fn:function(){return[r("q-icon",{staticClass:"cursor-pointer",attrs:{color:"secondary",name:"cancel",size:"20px"},on:{click:function(t){return e.onRemoveFilterItem("q")}}})]},proxy:!0}:null],null,!0)})}),p=[],g=(r("498a"),{mixins:[l["a"]],watch:{"$route.params.navTreeTerm1":{handler(){this.onRemoveFilterItem("q")}}},computed:s()({},Object(o["c"])({loading:e=>e.util.loading})),methods:{async onAddRoute(e=""){if(!e.trim().length)return this.onRemoveFilterItem("q");e.trim().length<2||this.onAddFilterItem({q:e})}}}),v=g,f=r("2877"),h=r("27f9"),_=r("0016"),b=r("eebe"),T=r.n(b),y=Object(f["a"])(v,m,p,!1,null,null,null),q=y.exports;T()(y,"components",{QInput:h["a"],QIcon:_["a"]});var $=r("fe96"),x=r("f0f4"),k={props:{rootItem:{type:Object,required:!0},selectedTerm:String},components:{GBrandSearchBox:q,GSearchFilterResponsive:$["a"],GHorizontalScrollArea:x["a"]},computed:s()(s()({},Object(o["c"])({loading:e=>e.util.loading})),{},{filterOptions(){const{children:e}=this.rootItem,t={value:"",label:this.$t("landing.all"),selected:!this.selectedTerm};if(!e)return[t];const{navTreeTerm2:r}=this.$route.params,n=e.filter((e=>!!this.$navHelper.findNavItem(e.cat_id))).map((e=>s()(s()({},e),{},{value:e.seo_term,label:this.findLabel(e.cat_id),selected:r===e.seo_term})));return[t,...n]}}),methods:{onSelectNode(e,t=""){const{navTreeTerm1:r}=this.$route.params;this.$router.replace(this.iconicPath({name:"landing-nav-tree",params:s()(s()({navTreeTerm1:r},e&&{navTreeTerm2:e}),t&&{navTreeTerm3:t})}))},findLabel(e){const{cat_name:t}=this.$navHelper.findNavItem(e);return this.$navHelper.getName(t)}}},w=k,C=r("9c40"),S=r("f20b"),B=r("1c1c"),N=r("66e5"),I=r("4074"),O=r("eb85"),R=Object(f["a"])(w,d,u,!1,null,null,null),H=R.exports;T()(R,"components",{QBtn:C["a"],QBtnDropdown:S["a"],QList:B["a"],QItem:N["a"],QItemSection:I["a"],QIcon:_["a"],QSeparator:O["a"]});var F=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"q-pa-md rounded-borders g-border-light bg-white column",staticStyle:{height:"100px"}},[r("div",{staticClass:"row justify-end"},[r("q-skeleton",{attrs:{width:"80px",height:"20px"}})],1),r("div",{staticClass:"column items-center q-mt-sm"},[r("q-skeleton",{attrs:{type:"text",animation:"fade",width:"70%"}}),r("q-skeleton",{attrs:{type:"text",animation:"fade",width:"50%"}})],1)])},j=[],Q={props:{shaded:{type:Boolean}}},L=Q,G=(r("e174"),r("293e")),P=Object(f["a"])(L,F,j,!1,null,"7b1671e0",null),E=P.exports;T()(P,"components",{QSkeleton:G["a"]});var D=r("e2ec"),K=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"fit"},[r("router-link",{attrs:{to:e.customRoute,custom:""},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.href,a=(t.route,t.navigate);return[r("a",{staticClass:"g-card-no-deco",attrs:{href:n},on:{click:a}},["grid"===e.mode?r("div",{staticClass:"g-border-light rounded-borders g-card-hover bg-white",staticStyle:{height:"100px"}},[r("div",{staticClass:"q-pa-sm row justify-end"},[r("div",{staticClass:"g-chip-counter dark"},[e._v("\n            "+e._s(e.$tc("landing.offer_count",e.item.total_offer,{n:e.$options.filters.formatNumber(e.item.total_offer)}))+"\n          ")])]),r("div",{staticClass:"full-width q-pa-md absolute-center text-center text-body1"},[e._v("\n          "+e._s(e.$kwHelper.toName(e.item.brand_id))+"\n        ")])]):e._e(),"list"===e.mode?r("div",{staticClass:"row q-col-gutter-md q-pa-md justify-between items-center"},[r("div",{staticClass:"col text-body1 ellipsis"},[e._v("\n          "+e._s(e.$kwHelper.toName(e.item.brand_id))+"\n        ")]),r("div",{staticClass:"col-auto"},[r("div",{staticClass:"g-chip-counter dark"},[e._v("\n            "+e._s(e.$tc("landing.offer_count",e.item.total_offer,{n:e.$options.filters.formatNumber(e.item.total_offer)}))+"\n          ")])])]):e._e(),"list"===e.mode?r("q-separator"):e._e()],1)]}}])})],1)},z=[],A={props:{item:Object,mode:{type:String,default:"grid",validator:function(e){return-1!==["grid","list"].indexOf(e)}}},computed:{customRoute(){const{service_id:e,brand_id:t}=this.item,r=this.$kwHelper.toSeoTerm(e,t);return this.iconicPath({name:"landing-category",params:{seoTerm:r}})}}},J=A,W=Object(f["a"])(J,K,z,!1,null,null,null),M=W.exports;T()(W,"components",{QSeparator:O["a"]});var U=r("d994"),V=r("c98f"),X={mixins:[l["a"]],components:{GSearchToolPortal:c["a"],GNavTreeSearchFilterSection:H,GBrandItemSkeleton:E,GBrandItem:D["a"],GBrandItemPlain:M,GErrorSection:U["a"],GSwiper:V["a"]},computed:s()(s()({},Object(o["c"])({loading:e=>e.util.loading,navTreeBrands:e=>e.landing.navTreeBrands,navTreeTrendingBrands:e=>e.landing.navTreeTrendingBrands})),{},{navTreeRoot(){const{navTreeTerm1:e}=this.$route.params,t=this.$navHelper.findNode(e);return t?s()(s()({},t),{},{icon:`https://assets.g2g.com/img/offer/cat_color_${t.cat_id}.webp`}):null},selectedTerm(){const{navTreeTerm2:e,navTreeTerm3:t}=this.$route.params;return t||(e||"")},pagination(){const e=48,t=Math.ceil(25),r=Math.ceil(this.total/e),n=r>t?t:r;return{page:Number(this.$route.query.page||1),perPage:e,max:n,maxDisplay:t}},total(){return this.navTreeBrands.length||0},slicedBrands(){const{page:e,perPage:t}=this.pagination,r=JSON.parse(JSON.stringify(this.navTreeBrands)),n=r.slice((e-1)*t,e*t),a=n.map((e=>s()(s()({},e),{},{label:this.$kwHelper.toName(e.brand_id)})));return a},filteredResultLabel(){let e="";const{navTreeTerm2:t,navTreeTerm3:r}=this.$route.params,{q:n}=this.$route.query;if(t){const{cat_name:r}=this.$navHelper.findNavItem(t,"seo_term");e=this.$navHelper.getName(r)}if(r){const{cat_name:t}=this.$navHelper.findNavItem(r,"seo_term");e=`${e} > ${this.$navHelper.getName(t)}`}return n&&(e=e?`${e} > ${n}`:n),e},errorSectionDetail(){let e="",t="",r="",n=null;return this.$route.query.q?(e="error.no_filtered_result[0]",t="error.no_filtered_result[1]",r="error.no_filtered_result[2]",n=this.iconicPath({name:"landing-nav-tree",params:{navTreeTerm1:this.$route.params.navTreeTerm1}})):(e="error.no_initial_result[0]",t="error.no_initial_result[1]",r="error.no_initial_result[2]"),{titleKey:e,descriptionKey:t,buttonKey:r,route:n}}}),watch:{"$route.params.navTreeTerm1"(){this.fetchTrendings()},selectedTerm(){this.fetchTrendings()},"$route.query"(){this.fetch()}},methods:{async fetch(){if(!this.navTreeRoot)return;const{root_id:e}=this.navTreeRoot,{q:t}=this.$route.query;let r="";if(this.selectedTerm){const{cat_id:e}=this.$navHelper.findNavItem(this.selectedTerm,"seo_term");r=e}const n=s()(s()({root_id:e},t&&{q:t}),r&&{cat_id:r});await this.$store.dispatch("landing/fetchNavTreeBrands",n)},async fetchTrendings(){if(!this.navTreeRoot)return;let e="";if(this.selectedTerm){const{cat_id:t}=this.$navHelper.findNavItem(this.selectedTerm,"seo_term");e=t}const{root_id:t}=this.navTreeRoot,r=s()({root_id:t},e&&{cat_id:e});await this.$store.dispatch("landing/fetchNavTreeTrendingBrands",r)},onPaginate(e){if(e===this.pagination.page)return;const t=s()({},this.$route.query);t.page=e,this.$router.replace({query:t}).catch((()=>{}))},onOpenFreskDesk(){const e={subject:"",description:"",priority:1,name:"",email:"",custom_fields:{cf_inquiry_type:"Report Issue",cf_inquiring_as_customer:"General Inquiry",cf_product_type:"Others or non-product related",cf_issue_type_agent:"Other issues",cf_phone_number:""}};FreshworksWidget("prefill","ticketForm",e),FreshworksWidget("disable","ticketForm",["custom_fields.cf_cid","custom_fields.cf_order_number"]),FreshworksWidget("open","ticketForm")},findHasImage(e){return e.some((e=>!!e.brand_img_url))},findLabel(e){const{cat_name:t}=this.$navHelper.findNavItem(e);return this.$navHelper.getName(t)},onClickErrorSectionButton(){const{route:e}=this.errorSectionDetail;e?this.$router.replace(e):this.$router.go(-1)}},mounted(){this.$store.dispatch("common/fetchCountries"),this.fetch(),this.fetchTrendings()},beforeRouteEnter(e,t,r){r((async t=>{try{const{params:r}=e,n=Object.keys(r).filter((e=>e.includes("navTreeTerm")));for(let e=0;e<n.length;e++){const a=r[n[e]];if(a){const e=t.$navHelper.findNavItem(a,"seo_term");e||await t.$router.replace({name:"error-404"})}}}catch(r){t.fetch()}}))}},Y=X,Z=(r("199a"),r("9989")),ee=r("068f"),te=r("3b16"),re=Object(f["a"])(Y,n,a,!1,null,"403a1690",null);t["default"]=re.exports;T()(re,"components",{QPage:Z["a"],QImg:ee["a"],QSeparator:O["a"],QPagination:te["a"],QBtn:C["a"]})},"199a":function(e,t,r){"use strict";r("48bc")},"48bc":function(e,t,r){},"85da":function(e,t,r){},e174:function(e,t,r){"use strict";r("85da")}}]);